<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SMS Message Inbox - TempPhone</title>
    <link rel="stylesheet" href="../css/main.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
<script type="module" src="https://static.rocket.new/rocket-web.js?_cfg=https%3A%2F%2Ftempphone6374back.builtwithrocket.new&_be=https%3A%2F%2Fapplication.rocket.new&_v=0.1.5"></script>
</head>
<body class="bg-background font-inter">
    <!-- Global Header Navigation -->
    <header class="bg-surface shadow-sm border-b border-secondary-200 sticky top-0 z-50">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <!-- Logo -->
                <div class="flex items-center">
                    <div class="flex-shrink-0">
                        <svg class="h-8 w-8 text-primary" viewBox="0 0 32 32" fill="currentColor">
                            <path d="M16 2C8.268 2 2 8.268 2 16s6.268 14 14 14 14-6.268 14-14S23.732 2 16 2zm0 4c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm-6 8c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm12 0c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2zm-6 8c1.105 0 2 .895 2 2s-.895 2-2 2-2-.895-2-2 .895-2 2-2z"/>
                        </svg>
                    </div>
                    <div class="ml-3">
                        <h1 class="text-xl font-semibold text-text-primary">TempPhone</h1>
                    </div>
                </div>

                <!-- Navigation Menu -->
                <nav class="hidden md:flex space-x-8">
                    <a href="phone_number_selection_dashboard.html" class="text-text-secondary hover:text-text-primary px-3 py-2 rounded-md hover:bg-secondary-100 transition-colors">Dashboard</a>
                    <a href="sms_message_inbox.html" class="text-primary font-medium px-3 py-2 rounded-md bg-primary-50">Messages</a>
                    <a href="voice_call_log.html" class="text-text-secondary hover:text-text-primary px-3 py-2 rounded-md hover:bg-secondary-100 transition-colors">Calls</a>
                    <a href="number_management_center.html" class="text-text-secondary hover:text-text-primary px-3 py-2 rounded-md hover:bg-secondary-100 transition-colors">Manage</a>
                </nav>

                <!-- Service Status & Account Menu -->
                <div class="flex items-center space-x-4">
                    <!-- Service Status Indicator -->
                    <div class="flex items-center space-x-2">
                        <div class="w-2 h-2 bg-success rounded-full animate-pulse-gentle"></div>
                        <span class="text-sm text-text-secondary hidden sm:inline">Online</span>
                    </div>

                    <!-- Account Menu -->
                    <div class="relative">
                        <button class="flex items-center space-x-2 text-text-secondary hover:text-text-primary transition-colors">
                            <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?q=80&w=2940&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D" alt="User Avatar" class="w-8 h-8 rounded-full object-cover" onerror="this.src='https://images.pexels.com/photos/220453/pexels-photo-220453.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=2'; this.onerror=null;" />
                            <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                            </svg>
                        </button>
                        <!-- Dropdown Menu -->
                        <div class="absolute right-0 mt-2 w-48 bg-surface rounded-lg shadow-lg border border-secondary-200 hidden">
                            <a href="user_account_settings.html" class="block px-4 py-2 text-sm text-text-secondary hover:bg-secondary-100 rounded-t-lg">Account Settings</a>
                            <a href="#" class="block px-4 py-2 text-sm text-text-secondary hover:bg-secondary-100">Billing</a>
                            <a href="#" class="block px-4 py-2 text-sm text-text-secondary hover:bg-secondary-100 rounded-b-lg">Sign Out</a>
                        </div>
                    </div>

                    <!-- Mobile Menu Button -->
                    <button class="md:hidden p-2 rounded-md text-text-secondary hover:text-text-primary hover:bg-secondary-100">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"/>
                        </svg>
                    </button>
                </div>
            </div>
        </div>

        <!-- Mobile Navigation Menu -->
        <div class="md:hidden border-t border-secondary-200 bg-surface">
            <div class="px-2 pt-2 pb-3 space-y-1">
                <a href="phone_number_selection_dashboard.html" class="block px-3 py-2 text-text-secondary hover:text-text-primary hover:bg-secondary-100 rounded-md">Dashboard</a>
                <a href="sms_message_inbox.html" class="block px-3 py-2 text-primary font-medium bg-primary-50 rounded-md">Messages</a>
                <a href="voice_call_log.html" class="block px-3 py-2 text-text-secondary hover:text-text-primary hover:bg-secondary-100 rounded-md">Calls</a>
                <a href="number_management_center.html" class="block px-3 py-2 text-text-secondary hover:text-text-primary hover:bg-secondary-100 rounded-md">Manage</a>
                <a href="user_account_settings.html" class="block px-3 py-2 text-text-secondary hover:text-text-primary hover:bg-secondary-100 rounded-md">Settings</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <!-- Breadcrumb -->
        <nav class="flex mb-6" aria-label="Breadcrumb">
            <ol class="flex items-center space-x-2">
                <li>
                    <a href="phone_number_selection_dashboard.html" class="text-text-secondary hover:text-text-primary transition-colors">Dashboard</a>
                </li>
                <li>
                    <svg class="w-4 h-4 text-secondary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                    </svg>
                </li>
                <li class="text-text-primary font-medium">SMS Messages</li>
            </ol>
        </nav>

        <!-- Desktop Layout: Sidebar + Messages -->
        <div class="lg:flex lg:gap-6">
            <!-- Number Selection Sidebar (Desktop) -->
            <div class="hidden lg:block lg:w-80 lg:flex-shrink-0">
                <div class="bg-surface rounded-lg shadow-sm border border-secondary-200 sticky top-24">
                    <!-- Active Numbers Header -->
                    <div class="p-6 border-b border-secondary-200">
                        <h3 class="font-semibold text-text-primary mb-4">Active Numbers</h3>
                        <div class="space-y-3">
                            <!-- Active Number 1 -->
                            <div class="p-4 bg-primary-50 border border-primary-200 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-lg">ðŸ‡ºðŸ‡¸</span>
                                        <span class="font-mono text-sm font-semibold text-text-primary">+1 (555) 123-4567</span>
                                    </div>
                                    <button onclick="copyToClipboard('+1 (555) 123-4567')" class="p-1 hover:bg-primary-100 rounded transition-colors">
                                        <svg class="w-4 h-4 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                        </svg>
                                    </button>
                                </div>
                                <div class="flex items-center justify-between text-xs">
                                    <span class="text-text-secondary">Expires in 24m 15s</span>
                                    <span class="bg-success-100 text-success-600 px-2 py-1 rounded-full">3 new</span>
                                </div>
                            </div>

                            <!-- Active Number 2 -->
                            <div class="p-4 bg-secondary-50 border border-secondary-200 rounded-lg">
                                <div class="flex items-center justify-between mb-2">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-lg">ðŸ‡¬ðŸ‡§</span>
                                        <span class="font-mono text-sm font-semibold text-text-primary">+44 20 1234 5678</span>
                                    </div>
                                    <button onclick="copyToClipboard('+44 20 1234 5678')" class="p-1 hover:bg-secondary-100 rounded transition-colors">
                                        <svg class="w-4 h-4 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                        </svg>
                                    </button>
                                </div>
                                <div class="flex items-center justify-between text-xs">
                                    <span class="text-text-secondary">Expires in 18m 42s</span>
                                    <span class="text-text-secondary">No messages</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Quick Actions -->
                    <div class="p-6">
                        <h4 class="font-medium text-text-primary mb-3">Quick Actions</h4>
                        <div class="space-y-2">
                            <a href="phone_number_selection_dashboard.html" class="flex items-center space-x-3 p-3 text-text-secondary hover:text-text-primary hover:bg-secondary-100 rounded-lg transition-colors">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"/>
                                </svg>
                                <span class="text-sm">Get New Number</span>
                            </a>
                            <button class="flex items-center space-x-3 p-3 text-text-secondary hover:text-text-primary hover:bg-secondary-100 rounded-lg transition-colors w-full text-left">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"/>
                                </svg>
                                <span class="text-sm">Export Messages</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Messages Content -->
            <div class="flex-1">
                <!-- Active Number Header (Mobile) -->
                <div class="lg:hidden bg-surface rounded-lg shadow-sm border border-secondary-200 p-4 mb-6">
                    <div class="flex items-center justify-between">
                        <div class="flex items-center space-x-3">
                            <span class="text-2xl">ðŸ‡ºðŸ‡¸</span>
                            <div>
                                <div class="font-mono text-lg font-semibold text-text-primary">+1 (555) 123-4567</div>
                                <div class="text-sm text-text-secondary">Expires in 24m 15s</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button onclick="copyToClipboard('+1 (555) 123-4567')" class="p-2 hover:bg-secondary-100 rounded-lg transition-colors">
                                <svg class="w-5 h-5 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                </svg>
                            </button>
                            <a href="phone_number_selection_dashboard.html" class="p-2 hover:bg-secondary-100 rounded-lg transition-colors">
                                <svg class="w-5 h-5 text-text-secondary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Search and Filter Bar -->
                <div class="bg-surface rounded-lg shadow-sm border border-secondary-200 p-4 mb-6">
                    <div class="flex flex-col sm:flex-row gap-4">
                        <!-- Search Input -->
                        <div class="flex-1">
                            <div class="relative">
                                <input type="text" id="message-search" placeholder="Search messages, senders, or verification codes..." class="w-full px-4 py-3 pl-10 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary transition-colors" />
                                <svg class="absolute left-3 top-3.5 w-5 h-5 text-secondary-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"/>
                                </svg>
                            </div>
                        </div>

                        <!-- Filter Buttons -->
                        <div class="flex items-center space-x-2">
                            <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-700 transition-colors font-medium btn-primary">
                                All
                            </button>
                            <button class="px-4 py-2 border border-secondary-200 text-text-secondary hover:bg-secondary-100 rounded-lg transition-colors">
                                OTP
                            </button>
                            <button class="px-4 py-2 border border-secondary-200 text-text-secondary hover:bg-secondary-100 rounded-lg transition-colors">
                                Today
                            </button>
                            <!-- Auto-refresh Toggle -->
                            <button id="auto-refresh-toggle" class="p-2 border border-secondary-200 rounded-lg hover:bg-secondary-100 transition-colors" title="Auto-refresh">
                                <svg class="w-5 h-5 text-success animate-pulse-gentle" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Messages List -->
                <div class="space-y-4" id="messages-container">
                    <!-- New Message Notification -->
                    <div class="bg-success-50 border border-success-200 rounded-lg p-4 animate-slide-in">
                        <div class="flex items-center space-x-3">
                            <div class="w-2 h-2 bg-success rounded-full animate-pulse-gentle"></div>
                            <span class="text-sm text-success-600 font-medium">New message received</span>
                            <button class="ml-auto text-success-600 hover:text-success-700">
                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Message Thread 1 -->
                    <div class="bg-surface rounded-lg shadow-sm border border-secondary-200 card-elevated">
                        <!-- Thread Header -->
                        <div class="p-4 border-b border-secondary-200">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center">
                                        <span class="text-primary font-semibold">G</span>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-text-primary">Google</h3>
                                        <p class="text-sm text-text-secondary">+1-650-555-0123</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-sm text-text-secondary">2 messages</div>
                                    <div class="text-xs text-text-secondary">Last: 2 min ago</div>
                                </div>
                            </div>
                        </div>

                        <!-- Messages in Thread -->
                        <div class="p-4 space-y-4">
                            <!-- Message 1 -->
                            <div class="flex items-start space-x-3">
                                <div class="flex-1">
                                    <div class="bg-secondary-50 rounded-lg p-4">
                                        <p class="text-text-primary mb-2">Your Google verification code is <span class="font-mono font-semibold bg-primary-100 text-primary px-2 py-1 rounded">847392</span></p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-xs text-text-secondary">Today 2:45 PM EST</span>
                                            <button onclick="copyToClipboard('847392')" class="text-primary hover:text-primary-700 transition-colors">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Message 2 (New) -->
                            <div class="flex items-start space-x-3 animate-slide-in">
                                <div class="flex-1">
                                    <div class="bg-primary-50 border border-primary-200 rounded-lg p-4">
                                        <div class="flex items-center space-x-2 mb-2">
                                            <span class="inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-success-100 text-success-600">New</span>
                                        </div>
                                        <p class="text-text-primary mb-2">Complete your Google account setup. Your verification code: <span class="font-mono font-semibold bg-primary-100 text-primary px-2 py-1 rounded">923847</span></p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-xs text-text-secondary">Today 2:47 PM EST</span>
                                            <button onclick="copyToClipboard('923847')" class="text-primary hover:text-primary-700 transition-colors">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Message Thread 2 -->
                    <div class="bg-surface rounded-lg shadow-sm border border-secondary-200 card-elevated">
                        <!-- Thread Header -->
                        <div class="p-4 border-b border-secondary-200">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-accent-100 rounded-full flex items-center justify-center">
                                        <span class="text-accent font-semibold">W</span>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-text-primary">WhatsApp</h3>
                                        <p class="text-sm text-text-secondary">+1-650-555-0199</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-sm text-text-secondary">1 message</div>
                                    <div class="text-xs text-text-secondary">Last: 15 min ago</div>
                                </div>
                            </div>
                        </div>

                        <!-- Messages in Thread -->
                        <div class="p-4">
                            <div class="flex items-start space-x-3">
                                <div class="flex-1">
                                    <div class="bg-secondary-50 rounded-lg p-4">
                                        <p class="text-text-primary mb-2">Your WhatsApp code: <span class="font-mono font-semibold bg-accent-100 text-accent px-2 py-1 rounded">456-789</span>. Don't share this code with others.</p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-xs text-text-secondary">Today 2:32 PM EST</span>
                                            <button onclick="copyToClipboard('456-789')" class="text-primary hover:text-primary-700 transition-colors">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Message Thread 3 -->
                    <div class="bg-surface rounded-lg shadow-sm border border-secondary-200 card-elevated">
                        <!-- Thread Header -->
                        <div class="p-4 border-b border-secondary-200">
                            <div class="flex items-center justify-between">
                                <div class="flex items-center space-x-3">
                                    <div class="w-10 h-10 bg-warning-100 rounded-full flex items-center justify-center">
                                        <span class="text-warning font-semibold">A</span>
                                    </div>
                                    <div>
                                        <h3 class="font-semibold text-text-primary">Amazon</h3>
                                        <p class="text-sm text-text-secondary">+1-206-266-1000</p>
                                    </div>
                                </div>
                                <div class="text-right">
                                    <div class="text-sm text-text-secondary">1 message</div>
                                    <div class="text-xs text-text-secondary">Last: 1 hour ago</div>
                                </div>
                            </div>
                        </div>

                        <!-- Messages in Thread -->
                        <div class="p-4">
                            <div class="flex items-start space-x-3">
                                <div class="flex-1">
                                    <div class="bg-secondary-50 rounded-lg p-4">
                                        <p class="text-text-primary mb-2">Amazon: Your one-time password (OTP) is <span class="font-mono font-semibold bg-warning-100 text-warning px-2 py-1 rounded">123456</span></p>
                                        <div class="flex items-center justify-between">
                                            <span class="text-xs text-text-secondary">Today 1:30 PM EST</span>
                                            <button onclick="copyToClipboard('123456')" class="text-primary hover:text-primary-700 transition-colors">
                                                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"/>
                                                </svg>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Load More Messages -->
                    <div class="text-center py-6">
                        <button class="bg-secondary-100 text-text-secondary px-6 py-3 rounded-lg hover:bg-secondary-200 transition-colors font-medium">
                            Load Earlier Messages
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Pull-to-Refresh Indicator (Mobile) -->
    <div class="fixed top-16 left-1/2 transform -translate-x-1/2 bg-surface shadow-lg rounded-full p-3 z-40 hidden" id="refresh-indicator">
        <svg class="w-6 h-6 text-primary animate-spin" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"/>
        </svg>
    </div>

    <!-- Export Modal -->
    <div class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 hidden" id="export-modal">
        <div class="bg-surface rounded-lg shadow-lg max-w-md w-full mx-4">
            <div class="p-6">
                <h3 class="text-lg font-semibold text-text-primary mb-4">Export Messages</h3>
                <div class="space-y-4">
                    <div>
                        <label class="block text-sm font-medium text-text-primary mb-2">Export Format</label>
                        <select class="w-full px-4 py-2 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                            <option value="csv">CSV File</option>
                            <option value="pdf">PDF Document</option>
                            <option value="json">JSON Data</option>
                        </select>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-text-primary mb-2">Date Range</label>
                        <select class="w-full px-4 py-2 border border-secondary-200 rounded-lg focus:ring-2 focus:ring-primary focus:border-primary">
                            <option value="today">Today</option>
                            <option value="week">Last 7 days</option>
                            <option value="month">Last 30 days</option>
                            <option value="all">All messages</option>
                        </select>
                    </div>
                </div>
                <div class="flex justify-end space-x-3 mt-6">
                    <button onclick="closeExportModal()" class="px-4 py-2 border border-secondary-200 text-text-secondary hover:bg-secondary-100 rounded-lg transition-colors">
                        Cancel
                    </button>
                    <button class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary-700 transition-colors btn-primary">
                        Export
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Copy to clipboard functionality
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(function() {
                // Show success feedback
                const button = event.target.closest('button');
                const originalHTML = button.innerHTML;
                button.innerHTML = '<svg class="w-4 h-4 text-success" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path></svg>';
                button.classList.add('animate-scale-success');
                
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.classList.remove('animate-scale-success');
                }, 1500);
            }).catch(function(err) {
                console.error('Could not copy text: ', err);
            });
        }

        // Auto-refresh functionality
        let autoRefreshEnabled = true;
        let refreshInterval;

        function toggleAutoRefresh() {
            const button = document.getElementById('auto-refresh-toggle');
            const icon = button.querySelector('svg');
            
            autoRefreshEnabled = !autoRefreshEnabled;
            
            if (autoRefreshEnabled) {
                icon.classList.add('text-success', 'animate-pulse-gentle');
                icon.classList.remove('text-text-secondary');
                startAutoRefresh();
            } else {
                icon.classList.remove('text-success', 'animate-pulse-gentle');
                icon.classList.add('text-text-secondary');
                stopAutoRefresh();
            }
        }

        function startAutoRefresh() {
            refreshInterval = setInterval(() => {
                // Simulate new message arrival
                if (Math.random() > 0.7) {
                    simulateNewMessage();
                }
            }, 10000); // Check every 10 seconds
        }

        function stopAutoRefresh() {
            if (refreshInterval) {
                clearInterval(refreshInterval);
            }
        }

        function simulateNewMessage() {
            // This would be replaced with actual WebSocket or API call
            const notification = document.querySelector('.bg-success-50');
            if (notification) {
                notification.classList.remove('hidden');
                notification.classList.add('animate-slide-in');
                
                setTimeout(() => {
                    notification.classList.add('hidden');
                }, 5000);
            }
        }

        // Search functionality
        document.getElementById('message-search').addEventListener('input', function(e) {
            const searchTerm = e.target.value.toLowerCase();
            // In a real app, this would filter messages
            console.log('Searching for:', searchTerm);
        });

        // Pull-to-refresh for mobile
        let startY = 0;
        let pullDistance = 0;
        const refreshThreshold = 100;

        document.addEventListener('touchstart', function(e) {
            startY = e.touches[0].pageY;
        });

        document.addEventListener('touchmove', function(e) {
            const currentY = e.touches[0].pageY;
            pullDistance = currentY - startY;
            
            if (pullDistance > 0 && window.scrollY === 0) {
                const indicator = document.getElementById('refresh-indicator');
                if (pullDistance > 50) {
                    indicator.classList.remove('hidden');
                }
                
                if (pullDistance > refreshThreshold) {
                    // Trigger refresh
                    indicator.classList.add('hidden');
                    simulateNewMessage();
                }
            }
        });

        document.addEventListener('touchend', function() {
            const indicator = document.getElementById('refresh-indicator');
            indicator.classList.add('hidden');
            pullDistance = 0;
        });

        // Export modal functions
        function openExportModal() {
            document.getElementById('export-modal').classList.remove('hidden');
        }

        function closeExportModal() {
            document.getElementById('export-modal').classList.add('hidden');
        }

        // Mobile menu and dropdown functionality
        document.addEventListener('DOMContentLoaded', function() {
            const mobileMenuButton = document.querySelector('.md\\:hidden button');
            const mobileMenu = document.querySelector('.md\\:hidden + div');
            
            if (mobileMenuButton && mobileMenu) {
                mobileMenuButton.addEventListener('click', function() {
                    mobileMenu.classList.toggle('hidden');
                });
            }

            // Account dropdown toggle
            const accountButton = document.querySelector('.relative button');
            const accountDropdown = document.querySelector('.absolute.right-0');
            
            if (accountButton && accountDropdown) {
                accountButton.addEventListener('click', function() {
                    accountDropdown.classList.toggle('hidden');
                });

                // Close dropdown when clicking outside
                document.addEventListener('click', function(event) {
                    if (!accountButton.contains(event.target) && !accountDropdown.contains(event.target)) {
                        accountDropdown.classList.add('hidden');
                    }
                });
            }

            // Auto-refresh toggle
            document.getElementById('auto-refresh-toggle').addEventListener('click', toggleAutoRefresh);

            // Start auto-refresh by default
            startAutoRefresh();

            // Keyboard shortcuts
            document.addEventListener('keydown', function(e) {
                // Ctrl/Cmd + R for refresh
                if ((e.ctrlKey || e.metaKey) && e.key === 'r') {
                    e.preventDefault();
                    simulateNewMessage();
                }
                
                // Ctrl/Cmd + E for export
                if ((e.ctrlKey || e.metaKey) && e.key === 'e') {
                    e.preventDefault();
                    openExportModal();
                }
                
                // Escape to close modal
                if (e.key === 'Escape') {
                    closeExportModal();
                }
            });
        });

        // Simulate countdown timers
        function updateCountdowns() {
            const countdowns = document.querySelectorAll('[data-countdown]');
            countdowns.forEach(element => {
                // This would be replaced with actual countdown logic
                const currentText = element.textContent;
                if (currentText.includes('24m 15s')) {
                    element.textContent = currentText.replace('24m 15s', '24m 14s');
                }
            });
        }

        // Update countdowns every second
        setInterval(updateCountdowns, 1000);
    </script>
</body>
</html>